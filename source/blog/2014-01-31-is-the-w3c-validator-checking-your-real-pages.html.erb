---
date: 2014-01-31
title: "Is the W3C Validator checking your real pages?"
tags: improvements,servers,how-to,css-validation,html-validation,w3c
---

<div>When new web developers subscribe to our HTML &amp; CSS site-wide validation service, one of the first questions they come up with is: "does Site Validator offer the same results as the W3C Validator?"</div><div><br></div><div>The answer is, of course, YES. <b>We offer the same results as the W3C HTML and CSS validators, because we use the same software</b>, which is open source, installed on our own servers.</div><div><br></div><div>BUT, in some rare circumstances, you MIGHT get different results. For example, let's consider this page:</div><div><br></div><div><a rel="nofollow" target="_blank" href="http://validationhell.com/pages/agent">http://validationhell.com/pages/agent</a></div><div><br></div><div>If you validate this on the W3C HTML validator, it will report 29 errors:</div><div><br></div><div><a rel="nofollow" target="_blank" href="http://validator.w3.org/check?uri=http%3A%2F%2Fvalidationhell.com%2Fpages%2Fagent&amp;charset=%28detect+automatically%29&amp;doctype=Inline&amp;ss=1&amp;group=0&amp;user-agent=W3C_Validator%2F1.3+http%3A%2F%2Fvalidator.w3.org%2Fservices">http://validator.w3.org/check?uri=http%3A%2F%2Fvalidationhell.com%2Fpages%2Fagent&amp;charset=%28detect+...</a></div><div><br></div><div>But, when you validate it on Site Validator, it will report 24 errors:</div><div><br></div><div><a rel="nofollow" target="_blank" href="https://app.sitevalidator.com/s/cbf35b792a90aa46958f83ca015a08cbe5f72ae9/web_pages/735989">http://sitevalidator.com/s/cbf35b792a90aa46958f83ca015a08cbe5f72ae9...</a></div><div><br></div><div>Why is that? Which one is correct? The answer is: BOTH are correct. Yes, both are correct because this URL has 29 errors and, at the same time, it has 24 errors. No, we're not talking about <a rel="nofollow" target="_blank" href="http://whatis.techtarget.com/definition/Schrodingers-cat">Schrödinger's cat</a> here.</div><div><br></div><div>What's happening here is simple, but it can take a long time until you, the web developer, realize. Web servers might serve different content for the same requested URL depending on certain conditions. In this case, the server is producing different content depending on the <a rel="nofollow" target="_blank" href="http://en.wikipedia.org/wiki/User_agent">User Agent</a>&nbsp;string.</div><div><br></div><div>That's why, if you check the results produced by the W3C Validator, you'll notice errors around a "Hello, W3C validator!!!" string, which is weird, because when you visit that page, you can't find this text anywhere. This can lead you to think that the W3C Validator is caching an old version of the page and validating this instead of the "real" page. But there is not a single, "real" page. In some cases, it depends on the User Agent string.</div><div><br></div><div>If instead you use your web browser to view this page source, copy it and validate it on the W3C Validator by using the direct input method, you'll notice it outputs 24 HTML errors, just like Site Validator does.</div><div><br></div><div>You can try this yourself by installing the <a rel="nofollow" target="_blank" href="https://chrome.google.com/webstore/detail/user-agent-switcher-for-c/djflhoibgkdhkhhcedjiklpkjnoahfmg">User-Agent switcher for Chrome</a> extension, which will allow you to fake the User Agent string of your browser. For instance, you can use "W3C_Validator/1.6.5.4", and then visit <a rel="nofollow" target="_blank" href="http://validationhell.com/pages/agent">http://validationhell.com/pages/agent</a> again and... voilà! The ghost paragraph, "Hello, W3C validator!!!"&nbsp;is there. You're now seeing this page as the W3C validator really sees it.</div><div><br></div><div>Fortunately, there's a fix for that. The W3C Validator accepts a "user-agent" param to be passed on the query (unfortunately this is not shown on the validation form), but you can pass a specific user-agent by appending it to the URL, like this:</div><div><br></div><div><a rel="nofollow" target="_blank" href="http://validator.w3.org/check?uri=http%3A%2F%2Fvalidationhell.com%2Fpages%2Fagent&amp;charset=%28detect+automatically%29&amp;doctype=Inline&amp;ss=1&amp;group=0&amp;user-agent=Mozilla/5.0%20(Macintosh;%20Intel%20Mac%20OS%20X%2010_8_5)%20AppleWebKit/537.36%20(KHTML,%20like%20Gecko)%20Chrome/29.0.1547.76%20Safari/537.36">http://validator.w3.org/check?uri=http%3A%2F%2Fvalidationhell.com%2Fpages%2Fagent&amp;charset=%28detect+...</a></div><div><br></div><div>Now, it shows 24 HTML errors, and you can see that the validated page source does not include the "Hello W3C validator!!!" string anymore.</div><div><br></div><div>Most web sites don't behave like that, and produce the same result independently of the User Agent string, but when they don't, you can lose a lot of time because of this little detail.</div><div><br></div><div>That's why, for validations made through the Site Validator service, we use by default a User Agent string that makes the W3C validator software installed on our servers&nbsp;present itself as a web browser, so you'll be validating the same page that you're seeing when you're developing it. Currently, we use "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/29.0.1547.76 Safari/537.36".</div><div><br></div><div>We hope this little detail helps you save even more time when validating HTML and CSS on your sites!</div><div><br></div><div><b>Remember you can subscribe to our service on </b><a rel="nofollow" target="_blank" href="https://app.sitevalidator.com/pricing"><b>https://app.sitevalidator.com/pricing</b></a><b> -- it's a monthly subscription, you can cancel it anytime, and there's a no-questions-asked, 30-days money back guarantee.</b></div>
